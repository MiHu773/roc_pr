(this.webpackJsonproc_rp=this.webpackJsonproc_rp||[]).push([[0],{173:function(e,t,a){e.exports=a(362)},178:function(e,t,a){},180:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),l=a(54),s=a.n(l);a(178),a(179),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=a(370),o=a(27),i=a(55),u=a(60),h=a(56),m=a(12),d=a(61),p=(a(91),a(367)),E=a(365),f=a(364),y=a(366),b=a(88),w=(a(180),a(363)),v=a(368),x=a(371),g=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).state={},a.state.inputs={},a.props.columns.forEach((function(e){return a.state.inputs[e.id]=""})),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"addRow",value:function(){var e=this,t=Object(b.a)(this.props.rows),a={},n=!0,r=function(t){e.props.columns.forEach((function(a){0!=!a.id.localeCompare(t)&&(new RegExp(a.regex).test(e.state.inputs[t])||(alert("B\u0142\u0105d danych wej\u015bciowych. Kolumna: "+a.display+" powinna spe\u0142nia\u0107: "+a.regex),n=!1))})),a[t]=e.state.inputs[t]};for(var l in this.state.inputs)r(l);n&&(t.push(a),this.props.parentHandler(t))}},{key:"handleChange",value:function(e,t){var a=this.state.inputs;a[e]=t.target.value,this.setState({inputs:a})}},{key:"removeClicked",value:function(e){var t=Object(b.a)(this.props.rows);t.splice(e,1),this.props.parentHandler(t)}},{key:"render",value:function(){var e=this,t=[],a=[];this.props.columns.forEach((function(a){t.push(r.a.createElement(w.a,{key:a.id,placeholder:a.display,onChange:e.handleChange.bind(e,a.id)}))}));for(var n=0;n<this.props.rows.length;n++){for(var l=[],s=0;s<this.props.columns.length;s++){var c=this.props.columns[s].id;l.push(r.a.createElement(f.a,null,this.props.rows[n][c]))}a.push(r.a.createElement(E.a,{className:"justify-content-between row-data align-items-center"},l,r.a.createElement(f.a,null,r.a.createElement(y.a,{className:"btn-remove",onClick:this.removeClicked.bind(this,n)},"X"))))}return r.a.createElement(p.a,{className:"mb-10"},r.a.createElement(E.a,null,r.a.createElement(f.a,null,r.a.createElement(v.a,null,t,r.a.createElement(x.a,{addonType:"append"},r.a.createElement(y.a,{color:"success",onClick:this.addRow.bind(this)},"+"))))),r.a.createElement("div",{className:"data-container"},a))}}]),t}(r.a.Component),N=[{state:0,result:.1},{state:1,result:.4},{state:1,result:.9},{state:1,result:.9},{state:1,result:.8},{state:1,result:.7},{state:0,result:.6},{state:0,result:.6},{state:0,result:.3},{state:0,result:.2}],k=[{threshold:.05},{threshold:.15},{threshold:.25},{threshold:.35},{threshold:.45},{threshold:.55},{threshold:.65},{threshold:.75},{threshold:.85},{threshold:.95}];function C(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:0}function j(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?-1:e.y<t.y?1:0}var F=function e(t,a,n,r,l){Object(o.a)(this,e),this.threshold=parseFloat(t),this.TP=a,this.FP=n,this.TN=r,this.FN=l,this.recall=a/(a+l),this.specifity=r/(r+n),this.precision=a/(a+n),this.dokladnosc=(a+r)/(a+r+n+l),this.error=1-this.dokladnosc,this.F1=2*this.precision*this.recall/(this.precision+this.recall)},O=function(e,t){for(var a=[],n=0;n<t.length;n++){for(var r=0,l=0,s=0,c=0,o=0;o<e.length;o++)1==e[o].state?e[o].result>=t[n].threshold?r++:c++:e[o].result>=t[n].threshold?l++:s++;a.push(new F(t[n].threshold,r,l,s,c))}return a},z=a(13);var T=function(e){return r.a.createElement("div",{className:"text-center"},r.a.createElement(z.e,{width:"100%",height:280},r.a.createElement(z.d,{data:e.data,margin:{top:5,right:5,left:5,bottom:35}},r.a.createElement(z.a,{strokeDasharray:"3 3"}),r.a.createElement(z.g,{dataKey:"x",domain:[0,1],type:"number",name:e.xLabel},r.a.createElement(z.b,{value:e.xLabel,offset:-5,position:"insideBottom"})),r.a.createElement(z.h,{domain:[0,1],type:"number"},r.a.createElement(z.b,{value:e.yLabel,angle:-90,position:"insideLeft"})),r.a.createElement(z.f,{labelFormatter:function(t){return e.xLabel+": "+t}}),r.a.createElement(z.c,{type:"linear",dataKey:"y",stroke:"#874BBA",strokeWidth:"2",name:e.yLabel}))))},H=a(369);a(361);var P=function(e){var t=e.data;t.sort((function(e,t){return e.threshold<t.threshold?-1:1}));var a,n=t.map((function(e){return function(e){return r.a.createElement("tr",null,r.a.createElement("td",null,e.threshold),r.a.createElement("td",null,e.TP),r.a.createElement("td",null,e.FP),r.a.createElement("td",null,e.FN),r.a.createElement("td",null,e.TN),r.a.createElement("td",null,e.recall),r.a.createElement("td",null,e.specifity),r.a.createElement("td",null,e.precision))}(function(e){return Object.keys(e).forEach((function(t){return e[t]=function(e){var t=parseFloat(e);return isNaN(t)?"-":t.toFixed(3)}(e[t])})),e}(e))}));return r.a.createElement("div",{className:"table-data-container"},r.a.createElement(H.a,null,r.a.createElement("thead",null,(a={threshold:"Pr\xf3g",TP:"Tp",FP:"Fp",TN:"Tn",FN:"Fn",recall:"czu\u0142o\u015b\u0107",specifity:"swoisto\u015b\u0107",precision:"precyzja"},r.a.createElement("tr",null,r.a.createElement("th",null,a.threshold),r.a.createElement("th",null,a.TP),r.a.createElement("th",null,a.FP),r.a.createElement("th",null,a.FN),r.a.createElement("th",null,a.TN),r.a.createElement("th",null,a.recall),r.a.createElement("th",null,a.specifity),r.a.createElement("th",null,a.precision)))),r.a.createElement("tbody",null,n)))},R=[{id:"state",display:"Stan",regex:"1|0"},{id:"result",display:"Wynik testu",regex:"(0[.][0-9]+)|1|0"}],L=[{id:"threshold",display:"Pr\xf3g",regex:"(0[.][0-9]+)|1|0"}],B=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(u.a)(this,Object(h.a)(t).call(this,e))).fillExampleOnClickHandler=function(){a.setState({rowsResults:N,rowsThresholds:k})},a.clearAllOnClickHandler=function(){a.setState({rowsResults:[],rowsThresholds:[]})},a.state={rowsResults:N,rowsThresholds:k},a.resultsChangeHandler=a.resultsChangeHandler.bind(Object(m.a)(a)),a.thresholdsChangeHandler=a.thresholdsChangeHandler.bind(Object(m.a)(a)),a}return Object(d.a)(t,e),Object(i.a)(t,[{key:"resultsChangeHandler",value:function(e){this.setState({rowsResults:e})}},{key:"thresholdsChangeHandler",value:function(e){this.setState({rowsThresholds:e})}},{key:"render",value:function(){var e=O(this.state.rowsResults,this.state.rowsThresholds),t=e.map((function(e){var t=1-e.specifity.toFixed(2),a=e.recall.toFixed(2);return{x:t,y:parseFloat(a)}})).filter((function(e){return!isNaN(e.x)&&!isNaN(e.y)})).sort(C),a=function(e){return e.map((function(e){var t=e.precision.toFixed(2),a=e.recall.toFixed(2);return{x:parseFloat(a),y:parseFloat(t)}})).filter((function(e){return!isNaN(e.x)&&!isNaN(e.y)})).sort(j)}(e);return r.a.createElement(p.a,{fluid:!0},r.a.createElement(E.a,{className:"mb-3 justify-content-center"},r.a.createElement(f.a,{xs:{size:"auto"}},r.a.createElement(y.a,{color:"primary",onClick:this.fillExampleOnClickHandler},"Wstaw przyk\u0142adowe dane")),r.a.createElement(f.a,{xs:{size:"auto"}},r.a.createElement(y.a,{color:"danger",onClick:this.clearAllOnClickHandler},"Usu\u0144 wszystkie dane"))),r.a.createElement(E.a,{className:"text-center justify-content-around"},r.a.createElement(f.a,{md:"4"},r.a.createElement(E.a,null,r.a.createElement(f.a,{xl:"7",className:"mb-4"},r.a.createElement("h5",null,"Dane wej\u015bciowe"),r.a.createElement(g,{columns:R,rows:this.state.rowsResults,parentHandler:this.resultsChangeHandler})),r.a.createElement(f.a,{xl:"5",className:"mb-4"},r.a.createElement("h5",null,"Progi"),r.a.createElement(g,{columns:L,rows:this.state.rowsThresholds,parentHandler:this.thresholdsChangeHandler})))),r.a.createElement(f.a,{md:"8"},r.a.createElement(E.a,{className:"text-center"},r.a.createElement(f.a,{md:"12",className:"mb-4"},r.a.createElement("h5",null,"Macierz pomy\u0142ek"),r.a.createElement(P,{data:e})),r.a.createElement(f.a,{md:"6",className:"mb-4"},r.a.createElement("h5",null,"Krzywa ROC"),r.a.createElement(T,{data:t,xLabel:"1 - swoisto\u015b\u0107",yLabel:"czu\u0142o\u015b\u0107"})),r.a.createElement(f.a,{md:"6",className:"mb-4"},r.a.createElement("h5",null,"Krzywa PR"),r.a.createElement(T,{data:a,xLabel:"czu\u0142o\u015b\u0107",yLabel:"precyzja"}))))))}}]),t}(r.a.Component);var W=function(){return r.a.createElement("footer",{className:"footer font-small fixed-bottom bg-secondary text-light"},r.a.createElement(p.a,{fluid:!0},r.a.createElement(E.a,{className:"justify-content-between align-items-end"},r.a.createElement(f.a,{className:"p-1"},"MBI 19Z"),r.a.createElement(f.a,{className:"p-1 text-right"},"Micha\u0142 Grzeszczyk",r.a.createElement("br",null),"Przemys\u0142aw Wilczy\u0144ski"))))};var S=function(){return r.a.createElement("div",null,r.a.createElement(c.a,{fluid:!0,className:"text-center header"},r.a.createElement("h2",null,"Wykre\u015blanie krzywej ROC i PR")),r.a.createElement(B,null),r.a.createElement(W,null))};s.a.render(r.a.createElement(S,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},91:function(e,t,a){}},[[173,1,2]]]);
//# sourceMappingURL=main.eb7abcf2.chunk.js.map