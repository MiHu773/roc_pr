(this.webpackJsonproc_rp=this.webpackJsonproc_rp||[]).push([[0],{188:function(e,t,a){e.exports=a(380)},193:function(e,t,a){},195:function(e,t,a){},374:function(e,t,a){},380:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(22),s=a.n(l);a(193),a(194),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(388),c=a(25),i=a(34),u=a(62),h=a(67),d=a(63),m=a(9),p=a(66),E=(a(99),a(385)),f=a(383),y=a(382),w=(a(195),a(381)),b=a(384),g=a(386),v=a(390),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).state={},a.state.inputs={},a.props.columns.forEach((function(e){return a.state.inputs[e.id]=""})),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"addRow",value:function(){var e=this,t=Object(c.a)(this.props.rows),a={},r=!0,n=function(t){e.props.columns.forEach((function(a){0!=!a.id.localeCompare(t)&&(new RegExp(a.regex).test(e.state.inputs[t])||(alert("B\u0142\u0105d danych wej\u015bciowych. Kolumna: "+a.display+" powinna spe\u0142nia\u0107: "+a.regex),r=!1))})),a[t]=Number(e.state.inputs[t])};for(var l in this.state.inputs)n(l);r&&(t.push(a),this.props.parentHandler(t))}},{key:"handleChange",value:function(e,t){var a=this.state.inputs;a[e]=t.target.value,this.setState({inputs:a})}},{key:"removeClicked",value:function(e){var t=Object(c.a)(this.props.rows);t.splice(e,1),this.props.parentHandler(t)}},{key:"render",value:function(){var e=this,t=[],a=[];this.props.columns.forEach((function(a){t.push(n.a.createElement(w.a,{key:a.id,placeholder:a.display,onChange:e.handleChange.bind(e,a.id)}))}));for(var r=0;r<this.props.rows.length;r++){for(var l=[],s=0;s<this.props.columns.length;s++){var o=this.props.columns[s].id;l.push(n.a.createElement(y.a,null,this.props.rows[r][o]))}a.push(n.a.createElement(f.a,{className:"justify-content-between row-data align-items-center"},l,n.a.createElement(y.a,null,n.a.createElement(b.a,{className:"btn-remove",onClick:this.removeClicked.bind(this,r)},"X"))))}return n.a.createElement(E.a,{className:"mb-10"},n.a.createElement(f.a,null,n.a.createElement(y.a,null,n.a.createElement(g.a,null,t,n.a.createElement(v.a,{addonType:"append"},n.a.createElement(b.a,{color:"success",onClick:this.addRow.bind(this)},"+"))))),n.a.createElement("div",{className:"data-container"},a))}}]),t}(n.a.Component),x=[{state:0,result:.1},{state:1,result:.4},{state:1,result:.9},{state:1,result:.9},{state:1,result:.8},{state:1,result:.7},{state:0,result:.6},{state:0,result:.6},{state:0,result:.3},{state:0,result:.2}],N=[{threshold:.05},{threshold:.15},{threshold:.25},{threshold:.35},{threshold:.45},{threshold:.55},{threshold:.65},{threshold:.75},{threshold:.85},{threshold:.95}];function j(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?1:e.y<t.y?-1:0}function C(e,t){return e.x>t.x?1:e.x<t.x?-1:e.y>t.y?-1:e.y<t.y?1:0}var O=function e(t,a,r,n,l){Object(i.a)(this,e),this.threshold=parseFloat(t),this.TP=a,this.FP=r,this.TN=n,this.FN=l,this.recall=a/(a+l),this.specifity=n/(n+r),this.precision=a/(a+r),this.dokladnosc=(a+n)/(a+n+r+l),this.error=1-this.dokladnosc,this.F1=2*this.precision*this.recall/(this.precision+this.recall)},F=function(e,t){for(var a=[],r=0;r<t.length;r++){for(var n=0,l=0,s=0,o=0,c=0;c<e.length;c++)1==e[c].state?e[c].result>=t[r].threshold?n++:o++:e[c].result>=t[r].threshold?l++:s++;a.push(new O(t[r].threshold,n,l,s,o))}return a},z=a(15);var T=function(e){return n.a.createElement("div",{className:"text-center"},n.a.createElement(z.e,{width:"100%",height:280},n.a.createElement(z.d,{data:e.data,margin:{top:5,right:5,left:5,bottom:35}},n.a.createElement(z.a,{strokeDasharray:"3 3"}),n.a.createElement(z.g,{dataKey:"x",domain:[0,1],type:"number",name:e.xLabel},n.a.createElement(z.b,{value:e.xLabel,offset:-5,position:"insideBottom"})),n.a.createElement(z.h,{domain:[0,1],type:"number"},n.a.createElement(z.b,{value:e.yLabel,angle:-90,position:"insideLeft"})),n.a.createElement(z.f,{labelFormatter:function(t){return e.xLabel+": "+t}}),n.a.createElement(z.c,{type:"linear",dataKey:"y",stroke:"#874BBA",strokeWidth:"2",name:e.yLabel}))))},H=a(387);a(374);var P=function(e){var t=e.data;t.sort((function(e,t){return e.threshold<t.threshold?-1:1}));var a,r=t.map((function(e){return function(e){return n.a.createElement("tr",null,n.a.createElement("td",null,e.threshold),n.a.createElement("td",null,e.TP),n.a.createElement("td",null,e.FP),n.a.createElement("td",null,e.FN),n.a.createElement("td",null,e.TN),n.a.createElement("td",null,e.recall),n.a.createElement("td",null,e.specifity),n.a.createElement("td",null,e.precision))}(function(e){return Object.keys(e).forEach((function(t){return e[t]=function(e){var t=parseFloat(e);return isNaN(t)?"-":t.toFixed(3)}(e[t])})),e}(e))}));return n.a.createElement("div",{className:"table-data-container"},n.a.createElement(H.a,null,n.a.createElement("thead",null,(a={threshold:"Pr\xf3g",TP:"Tp",FP:"Fp",TN:"Tn",FN:"Fn",recall:"czu\u0142o\u015b\u0107",specifity:"swoisto\u015b\u0107",precision:"precyzja"},n.a.createElement("tr",null,n.a.createElement("th",null,a.threshold),n.a.createElement("th",null,a.TP),n.a.createElement("th",null,a.FP),n.a.createElement("th",null,a.FN),n.a.createElement("th",null,a.TN),n.a.createElement("th",null,a.recall),n.a.createElement("th",null,a.specifity),n.a.createElement("th",null,a.precision)))),n.a.createElement("tbody",null,r)))};function R(e,t){return e.state<t.state?-1:e.state>t.state?1:e.result<t.result?-1:e.result>t.result?1:0}function L(e,t){return e.threshold<t.threshold?-1:e.threshold>t.threshold?1:0}function S(e,t){return e.result<t.result?-1:e.result>t.result?1:0}var W=a(161),B=a(389);var K=function(e){var t=Object(r.useState)(!1),a=Object(W.a)(t,2),l=a[0],s=a[1];return n.a.createElement("div",null,n.a.createElement(b.a,{color:e.color,onClick:e.onClick,id:e.id},e.children),n.a.createElement(B.a,{placement:"top",isOpen:l,target:e.id,toggle:function(){return s(!l)}},e.tooltip))},D=[{id:"state",display:"Stan",regex:"1|0"},{id:"result",display:"Wynik testu",regex:"(0[.][0-9]+)|1|0"}],A=[{id:"threshold",display:"Pr\xf3g",regex:"(0[.][0-9]+)|1|0"}],G=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(h.a)(this,Object(d.a)(t).call(this,e))).fillExampleOnClickHandler=function(){a.setState({rowsResults:Object(c.a)(x),rowsThresholds:Object(c.a)(N)})},a.clearAllOnClickHandler=function(){a.setState({rowsResults:[],rowsThresholds:[]})},a.sortOnClickHandler=function(){a.resultsChangeHandler(a.state.rowsResults.sort(R)),a.thresholdsChangeHandler(a.state.rowsThresholds.sort(L))},a.genThresholdOnClickHandler=function(){var e=0,t=[],r=a.state.rowsResults.slice().sort(S);if(0!==r.length){0==r[0].result&&t.push({threshold:0});for(var n=0;n<r.length;n++)r[n].result>e&&t.push({threshold:((r[n].result+e)/2).toFixed(2)}),e=r[n].result;t.push({threshold:((e+1)/2).toFixed(2)}),a.setState({rowsThresholds:t})}},a.state={rowsResults:Object(c.a)(x),rowsThresholds:Object(c.a)(N)},a.resultsChangeHandler=a.resultsChangeHandler.bind(Object(m.a)(a)),a.thresholdsChangeHandler=a.thresholdsChangeHandler.bind(Object(m.a)(a)),a}return Object(p.a)(t,e),Object(u.a)(t,[{key:"resultsChangeHandler",value:function(e){this.setState({rowsResults:e})}},{key:"thresholdsChangeHandler",value:function(e){this.setState({rowsThresholds:e})}},{key:"render",value:function(){var e=F(this.state.rowsResults,this.state.rowsThresholds),t=e.map((function(e){var t=1-e.specifity.toFixed(2),a=e.recall.toFixed(2);return{x:t,y:parseFloat(a)}})).filter((function(e){return!isNaN(e.x)&&!isNaN(e.y)})).sort(j),a=function(e){return e.map((function(e){var t=e.precision.toFixed(2),a=e.recall.toFixed(2);return{x:parseFloat(a),y:parseFloat(t)}})).filter((function(e){return!isNaN(e.x)&&!isNaN(e.y)})).sort(C)}(e);return n.a.createElement(E.a,{fluid:!0},n.a.createElement(f.a,{className:"mb-3 justify-content-center"},n.a.createElement(y.a,{xs:{size:"auto"}},n.a.createElement(K,{color:"primary",onClick:this.fillExampleOnClickHandler,tooltip:"Wstawia przyk\u0142adowe dane warto\u015bci wej\u015bciowych oraz prog\xf3w",id:"insertData"},"Wstaw przyk\u0142adowe dane")),n.a.createElement(y.a,{xs:{size:"auto"}},n.a.createElement(K,{color:"danger",onClick:this.clearAllOnClickHandler,tooltip:"Usuwa wszystkie dane wej\u015bciowe i progi",id:"removeData"},"Usu\u0144 wszystkie dane")),n.a.createElement(y.a,{xs:{size:"auto"}},n.a.createElement(K,{color:"secondary",onClick:this.genThresholdOnClickHandler,tooltip:"Generuje warto\u015bci prog\xf3w (produkuj\u0105ce wszystkie mo\u017cliwe TP, FP, TN, FN) na podstawie podanych stan\xf3w",id:"genThreshold"},"Generuj progi")),n.a.createElement(y.a,{xs:{size:"auto"}},n.a.createElement(K,{color:"info",onClick:this.sortOnClickHandler,tooltip:"Sortuje dane wej\u015bciowe oraz progi",id:"sort"},"Sortuj"))),n.a.createElement(f.a,{className:"text-center justify-content-around"},n.a.createElement(y.a,{md:"4"},n.a.createElement(f.a,null,n.a.createElement(y.a,{xl:"7",className:"mb-4"},n.a.createElement("h5",null,"Dane wej\u015bciowe"),n.a.createElement(k,{columns:D,rows:this.state.rowsResults,parentHandler:this.resultsChangeHandler})),n.a.createElement(y.a,{xl:"5",className:"mb-4"},n.a.createElement("h5",null,"Progi"),n.a.createElement(k,{columns:A,rows:this.state.rowsThresholds,parentHandler:this.thresholdsChangeHandler})))),n.a.createElement(y.a,{md:"8"},n.a.createElement(f.a,{className:"text-center"},n.a.createElement(y.a,{md:"12",className:"mb-4"},n.a.createElement("h5",null,"Macierz pomy\u0142ek"),n.a.createElement(P,{data:e})),n.a.createElement(y.a,{md:"6",className:"mb-4"},n.a.createElement("h5",null,"Krzywa ROC"),n.a.createElement(T,{data:t,xLabel:"1 - swoisto\u015b\u0107",yLabel:"czu\u0142o\u015b\u0107"})),n.a.createElement(y.a,{md:"6",className:"mb-4"},n.a.createElement("h5",null,"Krzywa PR"),n.a.createElement(T,{data:a,xLabel:"czu\u0142o\u015b\u0107",yLabel:"precyzja"}))))))}}]),t}(n.a.Component);var M=function(){return n.a.createElement("footer",{className:"footer font-small fixed-bottom bg-secondary text-light"},n.a.createElement(E.a,{fluid:!0},n.a.createElement(f.a,{className:"justify-content-between align-items-end"},n.a.createElement(y.a,{className:"p-1"},"MBI 19Z"),n.a.createElement(y.a,{className:"p-1 text-right"},"Micha\u0142 Grzeszczyk",n.a.createElement("br",null),"Przemys\u0142aw Wilczy\u0144ski"))))};var I=function(){return n.a.createElement("div",null,n.a.createElement(o.a,{fluid:!0,className:"text-center header"},n.a.createElement("h2",null,"Wykre\u015blanie krzywej ROC i PR")),n.a.createElement(G,null),n.a.createElement(M,null))};s.a.render(n.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},99:function(e,t,a){}},[[188,1,2]]]);
//# sourceMappingURL=main.d627b3d7.chunk.js.map